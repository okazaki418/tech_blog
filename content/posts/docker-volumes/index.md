+++
title = "Docker Composeのvolumesについて"
date = 2023-11-03T00:56:47+09:00
tags = ["Docker", "Compose"]
draft = false
+++

Docker Compose使ってますか？  
僕はそこそこです…  
正直Docker自体がなんかUbuntuに入れるの面倒だったり、RHELに入れるのが破滅的に面倒だったりで最近避けたくなってきましたね。  
Docker Composeも`docker compose`なのか`docker-compose`なのかという問題もあるし。  
コレ自体はハイフン付いてる方が古いけど互換性を維持したいならそっちくらいの認識でしかありませんが特に困ってないので多分大丈夫です。  

本題はDocker Composeでハマったところです。  
volumesのところですね。  
ホストのディレクトリをマウントするための設定ですが、理解が浅くてハマりました。  
端的に言うと、`docker compose`で`build`するタイミングでマウントされていないというところですね。  
マウントするのはビルドしたあと…というかコンテナを起動するタイミングなんですかね？  
`build`するときにマウントしている前提で設定を書いてたら、一向にうまくいきませんでした。  
まあ普通にノーマルのDocker使ったらエラー吐くような書き方をしてはいけないということですね。  
忘れないようにします。  
